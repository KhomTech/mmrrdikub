'use client';
/**
 * LanguageContext.tsx - à¸£à¸°à¸šà¸šà¸ à¸²à¸©à¸² 10 à¸ à¸²à¸©à¸² (Multi-Language Support)
 * à¸„à¸µà¹€à¸§à¸´à¸£à¹Œà¸”à¸à¸²à¸£à¹€à¸‡à¸´à¸™à¸¢à¸±à¸‡à¹€à¸›à¹‡à¸™à¸ à¸²à¸©à¸²à¸­à¸±à¸‡à¸à¸¤à¸© à¸„à¸³à¸—à¸±à¹ˆà¸§à¹„à¸›à¹à¸›à¸¥
 */

import { createContext, useContext, useState, useEffect, ReactNode } from 'react';

// à¸£à¸²à¸¢à¸à¸²à¸£à¸ à¸²à¸©à¸²à¸—à¸µà¹ˆà¸£à¸­à¸‡à¸£à¸±à¸š (10 à¸ à¸²à¸©à¸²)
export const languages = [
    { code: 'th', flag: 'ğŸ‡¹ğŸ‡­', name: 'à¹„à¸—à¸¢' },
    { code: 'en', flag: 'ğŸ‡ºğŸ‡¸', name: 'English' },
    { code: 'zh', flag: 'ğŸ‡¨ğŸ‡³', name: 'ä¸­æ–‡' },
    { code: 'es', flag: 'ğŸ‡ªğŸ‡¸', name: 'EspaÃ±ol' },
    { code: 'hi', flag: 'ğŸ‡®ğŸ‡³', name: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€' },
    { code: 'ar', flag: 'ğŸ‡¸ğŸ‡¦', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©' },
    { code: 'pt', flag: 'ğŸ‡§ğŸ‡·', name: 'PortuguÃªs' },
    { code: 'fr', flag: 'ğŸ‡«ğŸ‡·', name: 'FranÃ§ais' },
    { code: 'ru', flag: 'ğŸ‡·ğŸ‡º', name: 'Ğ ÑƒÑÑĞºĞ¸Ğ¹' },
    { code: 'ja', flag: 'ğŸ‡¯ğŸ‡µ', name: 'æ—¥æœ¬èª' }
] as const;

export type LangCode = typeof languages[number]['code'];

// Dictionary à¸—à¸¸à¸à¸ à¸²à¸©à¸² (à¸ à¸²à¸©à¸²à¹„à¸—à¸¢à¹ƒà¸Šà¹‰ Keywords à¸­à¸±à¸‡à¸à¸¤à¸©à¸œà¸ªà¸¡)
const dictionary: Record<LangCode, Record<string, string>> = {
    th: {
        // Navbar
        login: 'à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸š',
        register: 'à¸ªà¸¡à¸±à¸„à¸£',
        logout: 'à¸­à¸­à¸',
        dashboard: 'à¸›à¸£à¸°à¸§à¸±à¸•à¸´',
        // Hero
        heroTitle: 'à¹€à¸—à¸£à¸” Smarter à¹„à¸¡à¹ˆà¹ƒà¸Šà¹ˆ Harder',
        heroSubtitle: 'à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¸¡à¸·à¸­à¸„à¸³à¸™à¸§à¸“ Position Size à¸£à¸°à¸”à¸±à¸šà¸¡à¸·à¸­à¸­à¸²à¸Šà¸µà¸',
        welcome: 'à¸ªà¸§à¸±à¸ªà¸”à¸µ',
        readyToTrade: 'à¸à¸£à¹‰à¸­à¸¡à¹€à¸—à¸£à¸”à¹à¸¥à¹‰à¸§!',
        // Calculator
        positionCalc: 'Position Calculator',
        calcDesc: 'à¸„à¸³à¸™à¸§à¸“ Multi-TP/SL à¸à¸£à¹‰à¸­à¸¡ AI Score',
        tradingPair: 'à¸„à¸¹à¹ˆà¹€à¸—à¸£à¸”',
        direction: 'à¸—à¸´à¸¨à¸—à¸²à¸‡',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Margin à¸—à¸µà¹ˆà¸•à¹‰à¸­à¸‡à¸§à¸²à¸‡',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'à¸šà¸±à¸™à¸—à¸¶à¸',
        saving: 'à¸à¸³à¸¥à¸±à¸‡à¸šà¸±à¸™à¸—à¸¶à¸...',
        // Features
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'à¸„à¸³à¸™à¸§à¸“à¸‚à¸™à¸²à¸”à¹„à¸¡à¹‰à¸—à¸µà¹ˆà¹€à¸«à¸¡à¸²à¸°à¸ªà¸¡',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¸°à¸•à¸´à¸”à¸•à¸²à¸¡à¸›à¸£à¸°à¸§à¸±à¸•à¸´',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'à¸„à¸°à¹à¸™à¸™à¸›à¸£à¸°à¹€à¸¡à¸´à¸™ Setup',
        // CTA
        unlockFeatures: 'à¸›à¸¥à¸”à¸¥à¹‡à¸­à¸„ Full Features',
        ctaDesc: 'Login à¹€à¸à¸·à¹ˆà¸­à¸šà¸±à¸™à¸—à¸¶à¸à¹à¸¥à¸°à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œ',
        start: 'à¹€à¸£à¸´à¹ˆà¸¡à¸•à¹‰à¸™à¹ƒà¸Šà¹‰à¸‡à¸²à¸™',
        // Dashboard
        tradeHistory: 'à¸›à¸£à¸°à¸§à¸±à¸•à¸´à¸à¸²à¸£à¹€à¸—à¸£à¸”',
        quickActions: 'Quick Actions',
        viewHistory: 'à¸”à¸¹à¸›à¸£à¸°à¸§à¸±à¸•à¸´',
        exchange: 'Exchange',
        entryReason: 'à¹€à¸«à¸•à¸¸à¸œà¸¥à¸à¸²à¸£à¹€à¸‚à¹‰à¸²',
        // Validation
        pleaseLogin: 'à¸à¸£à¸¸à¸“à¸²à¹€à¸‚à¹‰à¸²à¸ªà¸¹à¹ˆà¸£à¸°à¸šà¸šà¸à¹ˆà¸­à¸™',
        fillAllFields: 'à¸à¸£à¸­à¸à¸‚à¹‰à¸­à¸¡à¸¹à¸¥à¹ƒà¸«à¹‰à¸„à¸£à¸š',
        savedSuccess: 'à¸šà¸±à¸™à¸—à¸¶à¸à¸ªà¸³à¹€à¸£à¹‡à¸ˆ!',
        // Footer
        footer: 'à¸«à¸²à¸—à¸µà¹ˆà¸à¸¶à¸à¸‡à¸²à¸™ | à¸›à¸µ 4 | MathCom',
    },
    en: {
        login: 'Login',
        register: 'Register',
        logout: 'Logout',
        dashboard: 'History',
        heroTitle: 'Trade Smarter, Not Harder',
        heroSubtitle: 'Professional Position Size Calculator',
        welcome: 'Hello',
        readyToTrade: 'Ready to trade!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL with AI Score',
        tradingPair: 'Trading Pair',
        direction: 'Direction',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'Save',
        saving: 'Saving...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'Calculate optimal position size',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'Track all your trades',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'Setup evaluation and alerts',
        unlockFeatures: 'Unlock Full Features',
        ctaDesc: 'Login to save and analyze',
        start: 'Get Started',
        tradeHistory: 'Trade History',
        quickActions: 'Quick Actions',
        viewHistory: 'View History',
        exchange: 'Exchange',
        entryReason: 'Entry Reason',
        pleaseLogin: 'Please login first',
        fillAllFields: 'Fill all fields',
        savedSuccess: 'Saved successfully!',
        footer: 'Looking for internship | Year 4 | MathCom',
    },
    zh: {
        login: 'ç™»å½•',
        register: 'æ³¨å†Œ',
        logout: 'é€€å‡º',
        dashboard: 'å†å²',
        heroTitle: 'æ›´æ™ºèƒ½çš„äº¤æ˜“',
        heroSubtitle: 'ä¸“ä¸šçš„ä»“ä½è®¡ç®—å™¨',
        welcome: 'ä½ å¥½',
        readyToTrade: 'å‡†å¤‡äº¤æ˜“ï¼',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'äº¤æ˜“å¯¹',
        direction: 'æ–¹å‘',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'ä¿å­˜',
        saving: 'ä¿å­˜ä¸­...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'è®¡ç®—æœ€ä½³ä»“ä½',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'è®°å½•äº¤æ˜“å†å²',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'è®¾ç½®è¯„ä¼°',
        unlockFeatures: 'è§£é”å…¨éƒ¨åŠŸèƒ½',
        ctaDesc: 'ç™»å½•ä¿å­˜åˆ†æ',
        start: 'å¼€å§‹ä½¿ç”¨',
        tradeHistory: 'äº¤æ˜“å†å²',
        quickActions: 'å¿«æ·æ“ä½œ',
        viewHistory: 'æŸ¥çœ‹å†å²',
        exchange: 'Exchange',
        entryReason: 'å…¥åœºç†ç”±',
        pleaseLogin: 'è¯·å…ˆç™»å½•',
        fillAllFields: 'å¡«å†™æ‰€æœ‰å­—æ®µ',
        savedSuccess: 'ä¿å­˜æˆåŠŸï¼',
        footer: 'å¯»æ‰¾å®ä¹  | å¤§å››',
    },
    es: {
        login: 'Iniciar',
        register: 'Registro',
        logout: 'Salir',
        dashboard: 'Historial',
        heroTitle: 'Opera mÃ¡s inteligente',
        heroSubtitle: 'Calculadora profesional',
        welcome: 'Hola',
        readyToTrade: 'Â¡Listo!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'Par',
        direction: 'DirecciÃ³n',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'Guardar',
        saving: 'Guardando...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'Calcula posiciÃ³n Ã³ptima',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'Historial de operaciones',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'EvaluaciÃ³n de setup',
        unlockFeatures: 'Desbloquear',
        ctaDesc: 'Inicia sesiÃ³n',
        start: 'Comenzar',
        tradeHistory: 'Historial',
        quickActions: 'Acciones',
        viewHistory: 'Ver',
        exchange: 'Exchange',
        entryReason: 'RazÃ³n',
        pleaseLogin: 'Inicia sesiÃ³n',
        fillAllFields: 'Completa todo',
        savedSuccess: 'Â¡Guardado!',
        footer: 'Buscando pasantÃ­a',
    },
    hi: {
        login: 'à¤²à¥‰à¤—à¤¿à¤¨',
        register: 'à¤ªà¤‚à¤œà¥€à¤•à¤°à¤£',
        logout: 'à¤¬à¤¾à¤¹à¤°',
        dashboard: 'à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸',
        heroTitle: 'à¤¸à¥à¤®à¤¾à¤°à¥à¤Ÿ à¤Ÿà¥à¤°à¥‡à¤¡ à¤•à¤°à¥‡à¤‚',
        heroSubtitle: 'à¤ªà¥à¤°à¥‹à¤«à¥‡à¤¶à¤¨à¤² à¤•à¥ˆà¤²à¤•à¥à¤²à¥‡à¤Ÿà¤°',
        welcome: 'à¤¨à¤®à¤¸à¥à¤¤à¥‡',
        readyToTrade: 'à¤¤à¥ˆà¤¯à¤¾à¤°!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'à¤ªà¥‡à¤¯à¤°',
        direction: 'à¤¦à¤¿à¤¶à¤¾',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'à¤¸à¥‡à¤µ',
        saving: 'à¤¸à¥‡à¤µ à¤¹à¥‹ à¤°à¤¹à¤¾...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'à¤¸à¤¹à¥€ à¤ªà¥‹à¤œà¥€à¤¶à¤¨ à¤¸à¤¾à¤‡à¤œ',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'à¤Ÿà¥à¤°à¥‡à¤¡ à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'à¤¸à¥‡à¤Ÿà¤…à¤ª à¤®à¥‚à¤²à¥à¤¯à¤¾à¤‚à¤•à¤¨',
        unlockFeatures: 'à¤…à¤¨à¤²à¥‰à¤• à¤•à¤°à¥‡à¤‚',
        ctaDesc: 'à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¥‡à¤‚',
        start: 'à¤¶à¥à¤°à¥‚ à¤•à¤°à¥‡à¤‚',
        tradeHistory: 'à¤‡à¤¤à¤¿à¤¹à¤¾à¤¸',
        quickActions: 'à¤¤à¥à¤µà¤°à¤¿à¤¤',
        viewHistory: 'à¤¦à¥‡à¤–à¥‡à¤‚',
        exchange: 'Exchange',
        entryReason: 'à¤•à¤¾à¤°à¤£',
        pleaseLogin: 'à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¥‡à¤‚',
        fillAllFields: 'à¤¸à¤¬ à¤­à¤°à¥‡à¤‚',
        savedSuccess: 'à¤¸à¥‡à¤µ à¤¹à¥‹ à¤—à¤¯à¤¾!',
        footer: 'à¤‡à¤‚à¤Ÿà¤°à¥à¤¨à¤¶à¤¿à¤ª à¤–à¥‹à¤œ à¤°à¤¹à¤¾',
    },
    ar: {
        login: 'Ø¯Ø®ÙˆÙ„',
        register: 'ØªØ³Ø¬ÙŠÙ„',
        logout: 'Ø®Ø±ÙˆØ¬',
        dashboard: 'Ø§Ù„ØªØ§Ø±ÙŠØ®',
        heroTitle: 'ØªØ¯Ø§ÙˆÙ„ Ø¨Ø°ÙƒØ§Ø¡',
        heroSubtitle: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©',
        welcome: 'Ù…Ø±Ø­Ø¨Ø§',
        readyToTrade: 'Ø¬Ø§Ù‡Ø²!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'Ø²ÙˆØ¬',
        direction: 'Ø§ØªØ¬Ø§Ù‡',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'Ø­ÙØ¸',
        saving: 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø­ÙØ¸...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'Ø­Ø³Ø§Ø¨ Ø§Ù„Ø­Ø¬Ù…',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'ØªØªØ¨Ø¹ Ø§Ù„ØªØ¯Ø§ÙˆÙ„',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯',
        unlockFeatures: 'ÙØªØ­ Ø§Ù„Ù…ÙŠØ²Ø§Øª',
        ctaDesc: 'Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„',
        start: 'Ø§Ø¨Ø¯Ø£',
        tradeHistory: 'Ø§Ù„ØªØ§Ø±ÙŠØ®',
        quickActions: 'Ø³Ø±ÙŠØ¹',
        viewHistory: 'Ø¹Ø±Ø¶',
        exchange: 'Exchange',
        entryReason: 'Ø§Ù„Ø³Ø¨Ø¨',
        pleaseLogin: 'Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§',
        fillAllFields: 'Ø§Ù…Ù„Ø£ Ø§Ù„ÙƒÙ„',
        savedSuccess: 'ØªÙ… Ø§Ù„Ø­ÙØ¸!',
        footer: 'Ø£Ø¨Ø­Ø« Ø¹Ù† ØªØ¯Ø±ÙŠØ¨',
    },
    pt: {
        login: 'Entrar',
        register: 'Registro',
        logout: 'Sair',
        dashboard: 'HistÃ³rico',
        heroTitle: 'Negocie com inteligÃªncia',
        heroSubtitle: 'Calculadora profissional',
        welcome: 'OlÃ¡',
        readyToTrade: 'Pronto!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'Par',
        direction: 'DireÃ§Ã£o',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'Salvar',
        saving: 'Salvando...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'Calcule posiÃ§Ã£o ideal',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'Acompanhe trades',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'AvaliaÃ§Ã£o de setup',
        unlockFeatures: 'Desbloquear',
        ctaDesc: 'FaÃ§a login',
        start: 'ComeÃ§ar',
        tradeHistory: 'HistÃ³rico',
        quickActions: 'AÃ§Ãµes',
        viewHistory: 'Ver',
        exchange: 'Exchange',
        entryReason: 'Motivo',
        pleaseLogin: 'FaÃ§a login',
        fillAllFields: 'Preencha tudo',
        savedSuccess: 'Salvo!',
        footer: 'Procurando estÃ¡gio',
    },
    fr: {
        login: 'Connexion',
        register: 'Inscription',
        logout: 'DÃ©connexion',
        dashboard: 'Historique',
        heroTitle: 'Tradez intelligemment',
        heroSubtitle: 'Calculatrice professionnelle',
        welcome: 'Bonjour',
        readyToTrade: 'PrÃªt!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'Paire',
        direction: 'Direction',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'Sauver',
        saving: 'Sauvegarde...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'Calculez position',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'Suivez vos trades',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'Ã‰valuation du setup',
        unlockFeatures: 'DÃ©bloquer',
        ctaDesc: 'Connectez-vous',
        start: 'Commencer',
        tradeHistory: 'Historique',
        quickActions: 'Actions',
        viewHistory: 'Voir',
        exchange: 'Exchange',
        entryReason: 'Raison',
        pleaseLogin: 'Connectez-vous',
        fillAllFields: 'Remplir tout',
        savedSuccess: 'SauvegardÃ©!',
        footer: 'Recherche stage',
    },
    ru: {
        login: 'Ğ’Ñ…Ğ¾Ğ´',
        register: 'Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ',
        logout: 'Ğ’Ñ‹Ñ…Ğ¾Ğ´',
        dashboard: 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ',
        heroTitle: 'Ğ¢Ğ¾Ñ€Ğ³ÑƒĞ¹ ÑƒĞ¼Ğ½ĞµĞµ',
        heroSubtitle: 'ĞŸÑ€Ğ¾Ñ„ĞµÑÑĞ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ°Ğ»ÑŒĞºÑƒĞ»ÑÑ‚Ğ¾Ñ€',
        welcome: 'ĞŸÑ€Ğ¸Ğ²ĞµÑ‚',
        readyToTrade: 'Ğ“Ğ¾Ñ‚Ğ¾Ğ²!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'ĞŸĞ°Ñ€Ğ°',
        direction: 'ĞĞ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ',
        saving: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'Ğ Ğ°ÑÑ‡ĞµÑ‚ Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸Ğ¸',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞ´ĞµĞ»Ğ¾Ğº',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'ĞÑ†ĞµĞ½ĞºĞ° ÑĞµÑ‚Ğ°Ğ¿Ğ°',
        unlockFeatures: 'Ğ Ğ°Ğ·Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ',
        ctaDesc: 'Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ',
        start: 'ĞĞ°Ñ‡Ğ°Ñ‚ÑŒ',
        tradeHistory: 'Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ',
        quickActions: 'Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ',
        viewHistory: 'Ğ¡Ğ¼Ğ¾Ñ‚Ñ€ĞµÑ‚ÑŒ',
        exchange: 'Exchange',
        entryReason: 'ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°',
        pleaseLogin: 'Ğ’Ğ¾Ğ¹Ğ´Ğ¸Ñ‚Ğµ',
        fillAllFields: 'Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚Ğµ Ğ²ÑĞµ',
        savedSuccess: 'Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾!',
        footer: 'Ğ˜Ñ‰Ñƒ ÑÑ‚Ğ°Ğ¶Ğ¸Ñ€Ğ¾Ğ²ĞºÑƒ',
    },
    ja: {
        login: 'ãƒ­ã‚°ã‚¤ãƒ³',
        register: 'ç™»éŒ²',
        logout: 'ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ',
        dashboard: 'å±¥æ­´',
        heroTitle: 'ã‚¹ãƒãƒ¼ãƒˆã«å–å¼•',
        heroSubtitle: 'ãƒ—ãƒ­ç”¨è¨ˆç®—æ©Ÿ',
        welcome: 'ã“ã‚“ã«ã¡ã¯',
        readyToTrade: 'æº–å‚™å®Œäº†!',
        positionCalc: 'Position Calculator',
        calcDesc: 'Multi-TP/SL + AI Score',
        tradingPair: 'ãƒšã‚¢',
        direction: 'æ–¹å‘',
        portfolio: 'Portfolio',
        entryPrice: 'Entry Price',
        risk: 'Risk',
        leverage: 'Leverage',
        stopLoss: 'Stop Loss',
        takeProfit: 'Take Profit',
        positionSize: 'Position Size',
        requiredMargin: 'Required Margin',
        maxWin: 'Max Win',
        maxLoss: 'Max Loss',
        rrRatio: 'R:R Ratio',
        fee: 'Fee',
        save: 'ä¿å­˜',
        saving: 'ä¿å­˜ä¸­...',
        riskMgmt: 'Risk Management',
        riskMgmtDesc: 'æœ€é©ãªã‚µã‚¤ã‚ºè¨ˆç®—',
        tradeJournal: 'Trade Journal',
        tradeJournalDesc: 'å–å¼•å±¥æ­´è¿½è·¡',
        aiScore: 'AI Trade Score',
        aiScoreDesc: 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—è©•ä¾¡',
        unlockFeatures: 'ãƒ­ãƒƒã‚¯è§£é™¤',
        ctaDesc: 'ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦',
        start: 'å§‹ã‚ã‚‹',
        tradeHistory: 'å±¥æ­´',
        quickActions: 'ã‚¯ã‚¤ãƒƒã‚¯',
        viewHistory: 'è¦‹ã‚‹',
        exchange: 'Exchange',
        entryReason: 'ç†ç”±',
        pleaseLogin: 'ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦',
        fillAllFields: 'å…¨ã¦è¨˜å…¥',
        savedSuccess: 'ä¿å­˜å®Œäº†!',
        footer: 'ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—æ¢ã—ä¸­',
    },
};

// Context Type
interface LanguageContextType {
    lang: LangCode;
    setLang: (lang: LangCode) => void;
    t: (key: string) => string;
    flag: string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

// Provider Component
export function LanguageProvider({ children }: { children: ReactNode }) {
    const [lang, setLangState] = useState<LangCode>('th');

    // à¹‚à¸«à¸¥à¸”à¸ à¸²à¸©à¸²à¸ˆà¸²à¸ localStorage (à¸–à¹‰à¸²à¸¡à¸µ)
    useEffect(() => {
        const saved = localStorage.getItem('lang') as LangCode;
        if (saved && languages.some(l => l.code === saved)) {
            setLangState(saved);
        }
    }, []);

    // à¸šà¸±à¸™à¸—à¸¶à¸à¸ à¸²à¸©à¸²à¸¥à¸‡ localStorage
    const setLang = (newLang: LangCode) => {
        setLangState(newLang);
        localStorage.setItem('lang', newLang);
    };

    // à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™à¹à¸›à¸¥à¸ à¸²à¸©à¸² (à¸„à¸·à¸™à¸„à¹ˆà¸² key à¸–à¹‰à¸²à¹„à¸¡à¹ˆà¸¡à¸µà¹ƒà¸™à¸à¸ˆà¸™à¸²à¸™à¸¸à¸à¸£à¸¡)
    const t = (key: string): string => {
        return dictionary[lang][key] || dictionary['en'][key] || key;
    };

    // à¸˜à¸‡à¸Šà¸²à¸•à¸´à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™
    const flag = languages.find(l => l.code === lang)?.flag || 'ğŸ‡¹ğŸ‡­';

    return (
        <LanguageContext.Provider value={{ lang, setLang, t, flag }}>
            {children}
        </LanguageContext.Provider>
    );
}

// Custom Hook
export function useLanguage() {
    const context = useContext(LanguageContext);
    if (!context) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
}
